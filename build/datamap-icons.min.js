/*! datamap-icons 2015-09-24 */
!function(){var a=function(a,c){c=c||"icons",a.addPlugin(c,b)},b=function(a,b,c){var d="http://www.w3.org/2000/svg",e=this,f={cssClass:"datamap-icon",iconFn:function(){var a=document.createElementNS(d,"circle");return a.setAttribute("r",5),a.setAttribute("stroke","#000"),a.setAttribute("stroke-width",1),a.setAttribute("fill","#000"),a}},g=function(a,b){for(var c in a)null==b[c]&&(b[c]=a[c]);return b},h=function(a){return e.latLngToXY(a.lat,a.lng)[0]},i=function(a){return e.latLngToXY(a.lat,a.lng)[1]},j=function(a,b){var c=this.getBBox(),d=h(a)-c.width/2,e=i(a)-c.height/2;return"translate("+d+","+e+")"},k=function(a,b){if(a.icon)return a.icon;if(c.iconFn)return c.iconFn.call(this,a,b);throw new Error("An icon must be specified as DOM element in the data point's icon field or a function that returns icon DOM elements must be provided in options.iconFn.")},l=function(a,b){var c=this.getAttribute("class"),d=d3.select(this);return a.cssClass&&!d.classed(a.cssClass)&&(c+=" "+a.cssClass),c};c=g(f,c);var m=a.selectAll("."+c.cssClass).data(b);m.enter().append(k).classed(c.cssClass,!0),m.attr("transform",j).attr("class",l),m.exit().remove()};return void 0!==Datamap&&(Datamap.addIconsPlugin=a),"function"==typeof define&&define.amd&&define(["datamaps"],function(b){b.addIconsPlugin=a}),b}();