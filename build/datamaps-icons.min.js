/*! datamaps-icons 2015-10-02 */
"use strict";!function(){var a="icons",b=function(a,b,c){var d="http://www.w3.org/2000/svg",e=this,f={cssClass:"datamap-icon",iconFn:function(){var a=document.createElementNS(d,"circle");return a.setAttribute("r",5),a.setAttribute("stroke","#000"),a.setAttribute("stroke-width",1),a.setAttribute("fill","#000"),a},hover:{overFn:null,overClass:"hover-over",outFn:null,outClass:"hover-out"}},g=function(a,b){for(var c in a)"object"==typeof a[c]&&b[c]?g(a[c],b[c]):null==b[c]&&(b[c]=a[c]);return b},h=function(a){return e.latLngToXY(a.lat,a.lng)[0]},i=function(a){return e.latLngToXY(a.lat,a.lng)[1]},j=function(a,b){var c=this.getBBox(),d=h(a)-c.width/2,e=i(a)-c.height/2;return"translate("+d+","+e+")"},k=function(a,b){if(a.icon)return a.icon;if(c.iconFn)return c.iconFn.call(this,a,b);throw new Error("An icon must be specified as DOM element in the data point's icon field or a function that returns icon DOM elements must be provided in options.iconFn.")},l=function(a,b){var c=a.getAttribute("class"),d=d3.select(a);return b&&!d.classed(b)&&(c+=" "+b),c},m=function(a,b){return l(this,a.cssClass)},n=function(a,b){var d=c.hover.overClass;return b.hover&&(d=b.hover.overClass?b.hover.overClass:d),d},o=function(a,b){var d=c.hover.outClass;return b.hover&&(d=b.hover.outClass?b.hover.outClass:d),d},p=function(a,b,c){var d=d3.select(a);d.classed(n(a,b),c),d.classed(o(a,b),!c)},q=function(){return a.selectAll("."+c.cssClass)},r=function(){var a=d3.dispatch("hoverOver","hoverOut"),b=q();b.on("mouseover",function(b,c){p(this,b,!0),a.hoverOver.apply(this,[b,c])}),b.on("mouseout",function(b,c){p(this,b,!1),a.hoverOut.apply(this,[b,c])}),a.on("hoverOver.icon",c.hover.overFn),a.on("hoverOut.icon",c.hover.outFn)};c=g(f,c);var s=q().data(b);s.enter().append(k).classed(c.cssClass,!0),s.attr("transform",j).attr("class",m),s.exit().remove(),r()};if(void 0!==Datamap){var c=new Datamap({element:document.createElement("div")});c.addPlugin(a,b)}return b}();