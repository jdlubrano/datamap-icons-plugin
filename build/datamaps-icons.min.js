/*! datamaps-icons 2015-09-28 */
"use strict";!function(){var a="icons",b=function(a,b,c){var d="http://www.w3.org/2000/svg",e=this,f={cssClass:"datamap-icon",iconFn:function(){var a=document.createElementNS(d,"circle");return a.setAttribute("r",5),a.setAttribute("stroke","#000"),a.setAttribute("stroke-width",1),a.setAttribute("fill","#000"),a},hover:{overFn:null,outFn:null}},g=function(a,b){for(var c in a)null==b[c]&&(b[c]=a[c]);return b},h=function(a){return e.latLngToXY(a.lat,a.lng)[0]},i=function(a){return e.latLngToXY(a.lat,a.lng)[1]},j=function(a,b){var c=this.getBBox(),d=h(a)-c.width/2,e=i(a)-c.height/2;return"translate("+d+","+e+")"},k=function(a,b){if(a.icon)return a.icon;if(c.iconFn)return c.iconFn.call(this,a,b);throw new Error("An icon must be specified as DOM element in the data point's icon field or a function that returns icon DOM elements must be provided in options.iconFn.")},l=function(a,b){var c=this.getAttribute("class"),d=d3.select(this);return a.cssClass&&!d.classed(a.cssClass)&&(c+=" "+a.cssClass),c},m=function(){return a.selectAll("."+c.cssClass)},n=function(){var a=d3.dispatch("hoverOver","hoverOut"),b=m();b.on("mouseover",function(b,c){a.hoverOver.apply(this,[b,c])}),b.on("mouseout",function(b,c){a.hoverOut.apply(this,[b,c])}),a.on("hoverOver.icon",c.hover.overFn),a.on("hoverOut.icon",c.hover.outFn)};c=g(f,c);var o=m().data(b);o.enter().append(k).classed(c.cssClass,!0),o.attr("transform",j).attr("class",l),o.exit().remove(),n()};if(void 0!==Datamap){var c=new Datamap({element:document.createElement("div")});c.addPlugin(a,b)}return b}();